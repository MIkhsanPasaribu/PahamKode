(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25652,e=>{"use strict";let s=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652)},63209,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],63209)},94179,e=>{"use strict";var s=e.i(43476),a=e.i(25913),t=e.i(47163);let r=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...i}){return(0,s.jsx)("div",{className:(0,t.cn)(r({variant:a}),e),...i})}e.s(["Badge",()=>i])},71689,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],71689)},78894,e=>{"use strict";let s=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>s],78894)},96725,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(18566),r=e.i(61668),i=e.i(44215),l=e.i(70065),d=e.i(67881),n=e.i(94179),c=e.i(31278),o=e.i(63209),m=e.i(75254);let x=(0,m.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),h=(0,m.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),u=(0,m.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var p=e.i(25652),j=e.i(78894);let g=(0,m.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var f=e.i(71689);function v(){let e=(0,t.useRouter)(),{pengguna:m,sedangMemuat:v,apakahAdmin:N}=(0,r.gunakanAuth)(),[b,y]=(0,a.useState)(null),[k,C]=(0,a.useState)(null),[_,w]=(0,a.useState)([]),[T,A]=(0,a.useState)(null),[S,B]=(0,a.useState)(!0),[M,R]=(0,a.useState)(null);(0,a.useEffect)(()=>{!v&&(m?N||e.push("/analyze"):e.push("/login"))},[m,v,N,e]),(0,a.useEffect)(()=>{m&&N&&P()},[m,N]);let P=async()=>{B(!0),R(null);try{let[e,s,a,t]=await Promise.all([(0,i.cekSystemHealth)(),(0,i.dapatkanMetrikAI)(),(0,i.dapatkanTopikSulit)(10),(0,i.dapatkanRekomendasiKurikulum)()]);y(e),C(s),w(a),A(t)}catch(e){R(e instanceof Error?e.message:"Gagal mengambil data monitoring")}finally{B(!1)}},H=e=>{let a={healthy:{variant:"default",icon:g,color:"text-green-600"},degraded:{variant:"secondary",icon:j.AlertTriangle,color:"text-yellow-600"},unhealthy:{variant:"destructive",icon:o.AlertCircle,color:"text-red-600"}},t=a[e]||a.healthy,r=t.icon;return(0,s.jsxs)(n.Badge,{variant:t.variant,className:"flex items-center gap-1",children:[(0,s.jsx)(r,{className:`h-3 w-3 ${t.color}`}),e]})};return v||S?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin"})}):M?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[(0,s.jsx)(o.AlertCircle,{className:"h-12 w-12 text-destructive"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:M}),(0,s.jsx)(d.Button,{onClick:P,children:"Coba Lagi"})]}):(0,s.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-7xl",children:[(0,s.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"System Monitoring"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Monitor kesehatan sistem dan performa AI"})]}),(0,s.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>e.push("/admin"),children:[(0,s.jsx)(f.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Kembali"]})]}),b&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"pb-3",children:[(0,s.jsx)(l.CardDescription,{children:"System Status"}),(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(x,{className:"h-5 w-5"}),H(b.status)]})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Uptime: ",b.uptime]})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"pb-3",children:[(0,s.jsx)(l.CardDescription,{children:"Database"}),(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(h,{className:"h-5 w-5"}),H(b.database)]})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Avg Query Time:"," ",b.api_response_time_avg.toFixed(2),"ms"]})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"pb-3",children:[(0,s.jsx)(l.CardDescription,{children:"API Performance"}),(0,s.jsxs)(l.CardTitle,{className:"text-2xl",children:[b.api_response_time_avg.toFixed(0),"ms"]})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Response Time (24h)"})})]}),(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{className:"pb-3",children:[(0,s.jsx)(l.CardDescription,{children:"Error Rate (24h)"}),(0,s.jsxs)(l.CardTitle,{className:"text-2xl",children:[b.error_rate_24h.toFixed(2),"%"]})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[b.total_requests_24h," requests"]})})]})]}),k&&(0,s.jsxs)(l.Card,{className:"mb-8",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(u,{className:"h-5 w-5"}),"AI Model Performance"]}),(0,s.jsx)(l.CardDescription,{children:"Statistik penggunaan AI model"})]}),(0,s.jsxs)(l.CardContent,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Requests"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:k.total_requests.toLocaleString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Tokens"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:k.total_token.toLocaleString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Biaya"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:["$",k.total_biaya.toFixed(4)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Success Rate"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[k.success_rate.toFixed(1),"%"]})]})]}),(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Avg Response Time"}),(0,s.jsxs)("p",{className:"text-lg font-semibold",children:[k.rata_rata_waktu_respons.toFixed(2),"s"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Input/Output Ratio"}),(0,s.jsxs)("p",{className:"text-lg font-semibold",children:[(k.total_token_output/k.total_token_input).toFixed(2),"x"]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(p.TrendingUp,{className:"h-5 w-5"}),"Topik Paling Sulit"]}),(0,s.jsx)(l.CardDescription,{children:"Berdasarkan jumlah error mahasiswa"})]}),(0,s.jsx)(l.CardContent,{children:0===_.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Belum ada data topik sulit"}):(0,s.jsx)("div",{className:"space-y-3",children:_.map((e,a)=>(0,s.jsxs)("div",{className:"p-3 bg-muted rounded-lg border space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsx)("p",{className:"font-medium",children:e.topik}),(0,s.jsxs)(n.Badge,{variant:"destructive",children:[e.total_error," errors"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:e.jumlah_mahasiswa_kesulitan})," ","mahasiswa (",e.persentase_mahasiswa.toFixed(1),"%)"]}),(0,s.jsxs)("div",{children:["Penguasaan avg:"," ",(0,s.jsxs)("span",{className:"font-medium",children:[e.rata_rata_penguasaan.toFixed(1),"%"]})]})]})]},a))})})]}),T&&(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Rekomendasi Kurikulum"}),(0,s.jsx)(l.CardDescription,{children:"Berdasarkan analisis kesulitan mahasiswa"})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2 text-sm",children:"ðŸ”´ Topik Prioritas"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:T.topik_prioritas.slice(0,5).map((e,a)=>(0,s.jsx)(n.Badge,{variant:"destructive",children:e},a))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2 text-sm",children:"âš ï¸ Gap Pembelajaran"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:T.gap_pembelajaran.slice(0,5).map((e,a)=>(0,s.jsx)(n.Badge,{variant:"secondary",children:e},a))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2 text-sm",children:"âœ… Topik Mudah"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:T.topik_mudah.slice(0,5).map((e,a)=>(0,s.jsx)(n.Badge,{variant:"outline",children:e},a))})]}),(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)("h4",{className:"font-semibold mb-2 text-sm",children:"ðŸ“š Saran Urutan Pembelajaran"}),(0,s.jsx)("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:T.saran_urutan.slice(0,5).map((e,a)=>(0,s.jsx)("li",{children:e},a))})]})]})]})]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)(d.Button,{onClick:P,variant:"outline",children:[(0,s.jsx)(x,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})})]})})}e.s(["default",()=>v],96725)}]);