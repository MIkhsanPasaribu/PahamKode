(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let a=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>a],63209)},94179,e=>{"use strict";var a=e.i(43476),t=e.i(25913),s=e.i(47163);let r=(0,t.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...n}){return(0,a.jsx)("div",{className:(0,s.cn)(r({variant:t}),e),...n})}e.s(["Badge",()=>n])},25652,e=>{"use strict";let a=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>a],25652)},92270,e=>{"use strict";let a=(0,e.i(75254).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>a],92270)},35408,e=>{"use strict";let a=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);e.s(["TrendingDown",()=>a],35408)},99023,e=>{"use strict";let a=(0,e.i(75254).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>a],99023)},18040,e=>{"use strict";e.i(47167);var a=e.i(43476),t=e.i(71645),s=e.i(18566),r=e.i(61668),n=e.i(67881),i=e.i(70065),l=e.i(94179),d=e.i(92270),c=e.i(31278),x=e.i(63209),o=e.i(25652),m=e.i(35408),g=e.i(99023);let u=(0,e.i(75254).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);function h(){let e=(0,s.useRouter)(),{pengguna:h,sedangMemuat:p,keluar:j}=(0,r.gunakanAuth)(),[b,f]=(0,t.useState)([]),[y,N]=(0,t.useState)(!0),[k,v]=(0,t.useState)(null);(0,t.useEffect)(()=>{p||h||e.push("/login")},[h,p,e]),(0,t.useEffect)(()=>{h?.id&&C()},[h?.id]);let C=async()=>{if(h?.id){N(!0),v(null);try{let e=await fetch(`/api/api/patterns/${h.id}/progress`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let a=(await e.json()).sort((e,a)=>a.tingkat_penguasaan-e.tingkat_penguasaan);f(a)}catch(e){v(e instanceof Error?e.message:"Gagal memuat progress. Silakan coba lagi.")}finally{N(!1)}}},w=async()=>{await j(),e.push("/login")},T=e=>e>=80?"bg-green-500":e>=60?"bg-blue-500":e>=40?"bg-yellow-500":"bg-red-500",_=e=>e>=80?"border-green-500 bg-green-50 text-green-800":e>=60?"border-blue-500 bg-blue-50 text-blue-800":e>=40?"border-yellow-500 bg-yellow-50 text-yellow-800":"border-red-500 bg-red-50 text-red-800";if(p)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Memuat..."})]})});if(!h)return null;let M=b.length>0?Math.round(b.reduce((e,a)=>e+a.tingkat_penguasaan,0)/b.length):0,B=b.filter(e=>e.tingkat_penguasaan>=80).length,P=b.filter(e=>e.tingkat_penguasaan<40).length,S=b.filter(e=>"improving"===e.tren_perbaikan).length;return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Dashboard Progress"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Pantau perkembangan pembelajaran dan tingkat penguasaanmu"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Selamat datang,"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:h.email})]}),(0,a.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:w,className:"gap-2",children:[(0,a.jsx)(d.LogOut,{className:"h-4 w-4"}),"Keluar"]})]})]}),(0,a.jsxs)("div",{className:"mb-6 flex gap-4",children:[(0,a.jsx)(n.Button,{variant:"outline",onClick:()=>e.push("/analyze"),children:"Analisis Baru"}),(0,a.jsx)(n.Button,{variant:"ghost",onClick:()=>e.push("/history"),children:"Riwayat"}),(0,a.jsx)(n.Button,{variant:"ghost",onClick:()=>e.push("/patterns"),children:"Pola Error"}),(0,a.jsx)(n.Button,{variant:"ghost",onClick:()=>e.push("/progress"),children:"Progress"})]}),k&&(0,a.jsx)(i.Card,{className:"mb-6 border-red-200 bg-red-50",children:(0,a.jsxs)(i.CardContent,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-800",children:[(0,a.jsx)(x.AlertCircle,{className:"h-5 w-5"}),(0,a.jsx)("p",{children:k})]}),(0,a.jsx)(n.Button,{variant:"outline",size:"sm",onClick:C,className:"mt-4",children:"Coba Lagi"})]})}),y&&(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Memuat progress..."})]})}),!y&&!k&&0===b.length&&(0,a.jsx)(i.Card,{className:"text-center py-12",children:(0,a.jsxs)(i.CardContent,{children:[(0,a.jsx)(u,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Data Progress"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Mulai analisis error untuk melacak progress pembelajaranmu"}),(0,a.jsx)(n.Button,{onClick:()=>e.push("/analyze"),children:"Mulai Analisis"})]})}),!y&&!k&&b.length>0&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Rata-rata Penguasaan"})}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[M,"%"]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,a.jsx)("div",{className:`h-full ${T(M)} rounded-full transition-all`,style:{width:`${M}%`}})})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Topik Mahir"})}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600",children:B}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["dari ",b.length," topik"]})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Perlu Fokus"})}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-red-600",children:P}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"topik"})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Tren Membaik"})}),(0,a.jsxs)(i.CardContent,{children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:S}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"topik"})]})]})]}),B>0&&(0,a.jsx)(i.Card,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-200",children:(0,a.jsx)(i.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(u,{className:"h-12 w-12 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-gray-900",children:["ðŸŽ‰ Selamat! Kamu sudah mahir di ",B," topik!"]}),(0,a.jsx)("p",{className:"text-gray-700",children:"Terus pertahankan dan tingkatkan kemampuanmu"})]})]})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Progress per Topik"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(e=>{var t,s,r,n;return(0,a.jsxs)(i.Card,{className:`border-2 ${_(e.tingkat_penguasaan)}`,children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(l.Badge,{variant:"outline",className:_(e.tingkat_penguasaan),children:(t=e.tingkat_penguasaan)>=80?"Mahir":t>=60?"Kompeten":t>=40?"Berkembang":"Perlu Fokus"}),(0,a.jsx)(l.Badge,{variant:"outline",className:"improving"===(s=e.tren_perbaikan)?"text-green-600 bg-green-50":"declining"===s?"text-red-600 bg-red-50":"text-gray-600 bg-gray-50",children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:["improving"===(r=e.tren_perbaikan)?(0,a.jsx)(o.TrendingUp,{className:"h-4 w-4 text-green-600"}):"declining"===r?(0,a.jsx)(m.TrendingDown,{className:"h-4 w-4 text-red-600"}):(0,a.jsx)(g.Minus,{className:"h-4 w-4 text-gray-400"}),"improving"===(n=e.tren_perbaikan)?"Membaik":"declining"===n?"Menurun":"Stabil"]})})]}),(0,a.jsx)(i.CardTitle,{className:"text-lg",children:e.topik})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[e.tingkat_penguasaan,"%"]})})]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,a.jsx)("div",{className:`h-full ${T(e.tingkat_penguasaan)} transition-all duration-500 ease-out rounded-full`,style:{width:`${e.tingkat_penguasaan}%`}})})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 font-medium mb-1",children:"Jumlah Error:"}),(0,a.jsxs)("p",{className:"text-gray-900 font-semibold",children:[e.jumlah_error_di_topik,"x"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 font-medium mb-1",children:"Error Terakhir:"}),(0,a.jsx)("p",{className:"text-gray-900 font-semibold",children:(e=>{if(!e)return"-";let a=new Date(e);return new Intl.DateTimeFormat("id-ID",{dateStyle:"medium"}).format(a)})(e.tanggal_error_terakhir)})]})]}),e.tingkat_penguasaan<60&&(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-yellow-800 font-medium",children:["ðŸ’¡ Rekomendasi: Pelajari lebih dalam tentang"," ",e.topik," untuk meningkatkan penguasaan"]})}),"declining"===e.tren_perbaikan&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-red-800 font-medium",children:["âš ï¸ Perhatian: Tren menurun. Pertimbangkan untuk review kembali materi ",e.topik]})}),"improving"===e.tren_perbaikan&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-green-800 font-medium",children:["âœ… Bagus! Kamu menunjukkan perbaikan di"," ",e.topik,". Terus pertahankan!"]})})]})]},e.id)})})]})]})]})})}e.s(["default",()=>h],18040)}]);