(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25652,e=>{"use strict";let s=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652)},63209,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],63209)},94179,e=>{"use strict";var s=e.i(43476),a=e.i(25913),t=e.i(47163);let i=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,...l}){return(0,s.jsx)("div",{className:(0,t.cn)(i({variant:a}),e),...l})}e.s(["Badge",()=>l])},71689,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],71689)},78894,e=>{"use strict";let s=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>s],78894)},87960,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(18566),i=e.i(61668),l=e.i(44215),n=e.i(70065),r=e.i(94179),d=e.i(25652),c=e.i(78894);function m({polaGlobal:e,trenAnalytics:a}){let t=Math.max(...a.map(e=>e.jumlah_analisis));return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{children:(0,s.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(d.TrendingUp,{className:"h-5 w-5"}),"Tren Analisis 7 Hari Terakhir"]})}),(0,s.jsx)(n.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:a.map(e=>{let a=e.jumlah_analisis/t*100;return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"font-medium",children:new Date(e.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"short"})}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:[e.jumlah_analisis," analisis • ",e.mahasiswa_aktif," ","mahasiswa"]})]}),(0,s.jsx)("div",{className:"h-8 bg-muted rounded-md overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:`${a}%`}})})]},e.tanggal)})})})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{children:(0,s.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(c.AlertTriangle,{className:"h-5 w-5"}),"Pola Kesalahan Global"]})}),(0,s.jsx)(n.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:e.map((e,a)=>(0,s.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,s.jsx)("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsxs)(r.Badge,{variant:"outline",children:["#",a+1]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:e.jenis_kesalahan}),(0,s.jsxs)("div",{className:"flex gap-3 mt-1 text-sm text-muted-foreground",children:[(0,s.jsxs)("span",{children:[e.total_kemunculan," kemunculan"]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:[e.jumlah_mahasiswa_terpengaruh," mahasiswa"]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:[e.persentase_mahasiswa.toFixed(1),"%"]})]})]})]})}),e.miskonsepsi_umum.length>0&&(0,s.jsxs)("div",{className:"pl-9",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",children:"Miskonsepsi Umum:"}),(0,s.jsx)("ul",{className:"space-y-1 text-sm text-muted-foreground",children:e.miskonsepsi_umum.map((e,a)=>(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-primary",children:"•"}),(0,s.jsx)("span",{children:e})]},a))})]}),(0,s.jsx)("div",{className:"pl-9",children:(0,s.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-destructive",style:{width:`${e.persentase_mahasiswa}%`}})})})]},e.jenis_kesalahan))})})]})]})}var o=e.i(67881),h=e.i(31278),u=e.i(63209),x=e.i(71689);function p(){let e=(0,t.useRouter)(),{pengguna:n,sedangMemuat:r,apakahAdmin:d}=(0,i.gunakanAuth)(),[c,p]=(0,a.useState)([]),[j,f]=(0,a.useState)([]),[g,y]=(0,a.useState)(!0),[v,N]=(0,a.useState)(null);(0,a.useEffect)(()=>{!r&&(n?d||e.push("/analyze"):e.push("/login"))},[n,r,d,e]),(0,a.useEffect)(()=>{n&&d&&b()},[n,d]);let b=async()=>{y(!0),N(null);try{let[e,s]=await Promise.all([(0,l.dapatkanPolaGlobal)(20),(0,l.dapatkanTrenAnalytics)(7)]);p(e),f(s)}catch(e){N(e instanceof Error?e.message:"Gagal mengambil data analytics")}finally{y(!1)}};return r||g?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin"})}):v?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4",children:[(0,s.jsx)(u.AlertCircle,{className:"h-12 w-12 text-destructive"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:v}),(0,s.jsx)(o.Button,{onClick:b,children:"Coba Lagi"})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>e.push("/admin"),children:[(0,s.jsx)(x.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Analytics"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pola global dan tren analisis"})]})]})})}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(m,{polaGlobal:c,trenAnalytics:j})})]})}e.s(["default",()=>p],87960)}]);