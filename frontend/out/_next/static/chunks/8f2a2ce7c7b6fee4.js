(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],63209)},94179,e=>{"use strict";var s=e.i(43476),a=e.i(25913),r=e.i(47163);let t=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...i}){return(0,s.jsx)("div",{className:(0,r.cn)(t({variant:a}),e),...i})}e.s(["Badge",()=>i])},25652,e=>{"use strict";let s=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652)},10980,e=>{"use strict";let s=(0,e.i(75254).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpen",()=>s],10980)},92270,e=>{"use strict";let s=(0,e.i(75254).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>s],92270)},76431,e=>{"use strict";var s=e.i(43476),a=e.i(71645),r=e.i(18566),t=e.i(61668),i=e.i(67881),n=e.i(70065),l=e.i(94179),d=e.i(92270),c=e.i(31278),o=e.i(63209),x=e.i(25652),m=e.i(10980);function u(){let e=(0,r.useRouter)(),{pengguna:u,sedangMemuat:h,keluar:g}=(0,t.gunakanAuth)(),[j,p]=(0,a.useState)([]),[y,f]=(0,a.useState)(!0),[b,k]=(0,a.useState)(null);(0,a.useEffect)(()=>{h||u||e.push("/login")},[u,h,e]),(0,a.useEffect)(()=>{u?.id&&N()},[u?.id]);let N=async()=>{if(u?.id){f(!0),k(null);try{let e=await fetch(`/api/api/patterns/${u.id}`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let s=(await e.json()).sort((e,s)=>s.frekuensi-e.frekuensi);p(s)}catch(e){k(e instanceof Error?e.message:"Gagal memuat pola error. Silakan coba lagi.")}finally{f(!1)}}},v=async()=>{await g(),e.push("/login")},C=e=>{if(!e)return"-";let s=new Date(e);return new Intl.DateTimeFormat("id-ID",{dateStyle:"medium"}).format(s)},w=e=>e>=10?"border-red-500 bg-red-50 text-red-800":e>=5?"border-orange-500 bg-orange-50 text-orange-800":e>=3?"border-yellow-500 bg-yellow-50 text-yellow-800":"border-blue-500 bg-blue-50 text-blue-800";if(h)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Memuat..."})]})});if(!u)return null;let T=Math.max(...j.map(e=>e.frekuensi),1);return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Pola Error"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Identifikasi kesalahan berulang dan rekomendasi pembelajaran"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Selamat datang,"}),(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:u.email})]}),(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:v,className:"gap-2",children:[(0,s.jsx)(d.LogOut,{className:"h-4 w-4"}),"Keluar"]})]})]}),(0,s.jsxs)("div",{className:"mb-6 flex gap-4",children:[(0,s.jsx)(i.Button,{variant:"outline",onClick:()=>e.push("/analyze"),children:"Analisis Baru"}),(0,s.jsx)(i.Button,{variant:"ghost",onClick:()=>e.push("/history"),children:"Riwayat"}),(0,s.jsx)(i.Button,{variant:"ghost",onClick:()=>e.push("/patterns"),children:"Pola Error"}),(0,s.jsx)(i.Button,{variant:"ghost",onClick:()=>e.push("/progress"),children:"Progress"})]}),b&&(0,s.jsx)(n.Card,{className:"mb-6 border-red-200 bg-red-50",children:(0,s.jsxs)(n.CardContent,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-red-800",children:[(0,s.jsx)(o.AlertCircle,{className:"h-5 w-5"}),(0,s.jsx)("p",{children:b})]}),(0,s.jsx)(i.Button,{variant:"outline",size:"sm",onClick:N,className:"mt-4",children:"Coba Lagi"})]})}),y&&(0,s.jsx)("div",{className:"flex justify-center py-12",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Memuat pola error..."})]})}),!y&&!b&&0===j.length&&(0,s.jsx)(n.Card,{className:"text-center py-12",children:(0,s.jsxs)(n.CardContent,{children:[(0,s.jsx)(x.TrendingUp,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Belum Ada Pola Terdeteksi"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Pola error akan muncul setelah kamu melakukan minimal 3 analisis dengan error serupa"}),(0,s.jsx)(i.Button,{onClick:()=>e.push("/analyze"),children:"Mulai Analisis"})]})}),!y&&!b&&j.length>0&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{children:(0,s.jsx)(n.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Total Pola Terdeteksi"})}),(0,s.jsx)(n.CardContent,{children:(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:j.length})})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{children:(0,s.jsx)(n.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Error Terbanyak"})}),(0,s.jsxs)(n.CardContent,{children:[(0,s.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[j[0]?.frekuensi||0,"x"]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:j[0]?.jenis_pola||"-"})]})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsx)(n.CardHeader,{children:(0,s.jsx)(n.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Perlu Fokus"})}),(0,s.jsxs)(n.CardContent,{children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:j.filter(e=>e.frekuensi>=5).length}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Pola dengan frekuensi tinggi"})]})]})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsxs)(n.CardHeader,{children:[(0,s.jsx)(n.CardTitle,{children:"Visualisasi Frekuensi Error"}),(0,s.jsx)(n.CardDescription,{children:"Error terurut dari yang paling sering terjadi"})]}),(0,s.jsx)(n.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:j.slice(0,10).map(e=>{var a;return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 truncate max-w-md",children:e.jenis_pola}),(0,s.jsxs)("span",{className:"font-bold text-gray-900",children:[e.frekuensi,"x"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,s.jsx)("div",{className:`h-full ${(a=e.frekuensi)>=10?"bg-red-500":a>=5?"bg-orange-500":a>=3?"bg-yellow-500":"bg-blue-500"} transition-all duration-500 ease-out rounded-full`,style:{width:`${e.frekuensi/T*100}%`}})})]},e.id)})})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Detail Pola Error"}),j.map(e=>{var a;return(0,s.jsxs)(n.Card,{className:`border-2 ${w(e.frekuensi)}`,children:[(0,s.jsx)(n.CardHeader,{children:(0,s.jsx)("div",{className:"flex justify-between items-start",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsxs)(l.Badge,{variant:"outline",className:w(e.frekuensi),children:["Risiko: ",(a=e.frekuensi)>=10?"Sangat Tinggi":a>=5?"Tinggi":a>=3?"Sedang":"Rendah"]}),(0,s.jsxs)(l.Badge,{variant:"secondary",children:[e.frekuensi,"x kejadian"]})]}),(0,s.jsx)(n.CardTitle,{className:"text-xl",children:e.jenis_pola}),e.deskripsi_miskonsepsi&&(0,s.jsx)(n.CardDescription,{className:"mt-2",children:e.deskripsi_miskonsepsi})]})})}),(0,s.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 font-medium mb-1",children:"Kejadian Pertama:"}),(0,s.jsx)("p",{className:"text-gray-900",children:C(e.kejadian_pertama)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 font-medium mb-1",children:"Kejadian Terakhir:"}),(0,s.jsx)("p",{className:"text-gray-900",children:C(e.kejadian_terakhir)})]})]}),e.sumber_daya_rekomendasi&&e.sumber_daya_rekomendasi.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(m.BookOpen,{className:"h-4 w-4 text-gray-600"}),(0,s.jsx)("h4",{className:"font-semibold text-gray-700",children:"Rekomendasi Pembelajaran:"})]}),(0,s.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700",children:e.sumber_daya_rekomendasi.map((e,a)=>(0,s.jsx)("li",{children:e},a))})]}),e.frekuensi>=5&&(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-sm text-yellow-800 font-medium",children:"⚠️ Perhatian: Error ini sering terjadi! Disarankan untuk fokus mempelajari topik terkait."})})]})]},e.id)})]})]})]})})}e.s(["default",()=>u])}]);